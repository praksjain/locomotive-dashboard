{"ast":null,"code":"import React,{useEffect,useRef,useState,useCallback}from'react';import{useDispatch,useSelector}from'react-redux';import{WebSocketService}from'../services/WebSocketService';import{FaArrowUp,FaArrowDown,FaExchangeAlt,FaLightbulb,FaBell,FaDoorClosed,FaDoorOpen}from'react-icons/fa';import'../styles/TrainCabin.css';// Helper component to render icons\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const IconComponent=_ref=>{let{icon:Icon}=_ref;return/*#__PURE__*/_jsx(Icon,{});};const TrainCabin=()=>{const dispatch=useDispatch();const{engineStatus,throttlePosition,speed,brakePressure,fuelLevel,engineTemp,oilPressure,cabinTemp,fanSpeed,signal}=useSelector(state=>state.simulation);const wsRef=useRef();const[isDragging,setIsDragging]=useState(false);const throttleRef=useRef(null);const[trackOffset,setTrackOffset]=useState(0);const[prevSpeed,setPrevSpeed]=useState(0);const[lightsOn,setLightsOn]=useState(false);const[wipersOn,setWipersOn]=useState(false);const[hornActive,setHornActive]=useState(false);const[engineStarting,setEngineStarting]=useState(false);const[headlightsOn,setHeadlightsOn]=useState(false);const[doorLocked,setDoorLocked]=useState(true);const[radioOn,setRadioOn]=useState(false);const[parkingBrakeOn,setParkingBrakeOn]=useState(true);const[autoModeOn,setAutoModeOn]=useState(false);const[pantographUp,setPantographUp]=useState(false);const[compressorOn,setCompressorOn]=useState(false);const[sandingOn,setSandingOn]=useState(false);const[couplerEngaged,setCouplerEngaged]=useState(false);const[auxiliaryPowerOn,setAuxiliaryPowerOn]=useState(false);const[brakeLightOn,setBrakeLightOn]=useState(false);const[cabinLightsOn,setCabinLightsOn]=useState(true);const[ventilationOn,setVentilationOn]=useState(false);const[defrostOn,setDefrostOn]=useState(false);const[batteryIsolated,setBatteryIsolated]=useState(false);const[reverserPosition,setReverserPosition]=useState('neutral');useEffect(()=>{console.log('Initializing WebSocket service...');wsRef.current=new WebSocketService(dispatch);wsRef.current.connect();return()=>{if(wsRef.current){wsRef.current.disconnect();}};},[dispatch]);useEffect(()=>{let animationFrame;const animateTrack=()=>{setTrackOffset(prev=>(prev+speed*0.1)%100);animationFrame=requestAnimationFrame(animateTrack);};animationFrame=requestAnimationFrame(animateTrack);return()=>cancelAnimationFrame(animationFrame);},[speed]);// Update prevSpeed for acceleration calculation\nuseEffect(()=>{const timer=setTimeout(()=>{setPrevSpeed(speed);},1000);return()=>clearTimeout(timer);},[speed]);const handleEngineToggle=()=>{if(!wsRef.current)return;if(engineStatus==='off'){// Starting sequence\nsetEngineStarting(true);wsRef.current.sendUpdate({engine_status:'starting'});// Simulate engine startup sequence\nsetTimeout(()=>{var _wsRef$current;(_wsRef$current=wsRef.current)===null||_wsRef$current===void 0?void 0:_wsRef$current.sendUpdate({engine_status:'on',throttle_position:0,brake_pressure:100});setEngineStarting(false);},3000);}else{// Immediate shutdown\nwsRef.current.sendUpdate({engine_status:'off',throttle_position:0,brake_pressure:100});}};const handleThrottleMove=useCallback(clientY=>{var _wsRef$current2;if(!throttleRef.current||engineStatus==='off')return;const rect=throttleRef.current.getBoundingClientRect();const height=rect.height-50;// Adjust for handle height\nconst relativeY=Math.max(0,Math.min(height,clientY-rect.top));const percentage=Math.round((height-relativeY)/height*100);(_wsRef$current2=wsRef.current)===null||_wsRef$current2===void 0?void 0:_wsRef$current2.sendUpdate({throttle_position:percentage});},[engineStatus]);const handleMouseDown=e=>{if(engineStatus==='off')return;setIsDragging(true);handleThrottleMove(e.clientY);};const handleMouseMove=useCallback(e=>{if(!isDragging)return;handleThrottleMove(e.clientY);},[isDragging,handleThrottleMove]);const handleMouseUp=()=>{setIsDragging(false);};useEffect(()=>{if(isDragging){document.addEventListener('mouseup',handleMouseUp);document.addEventListener('mousemove',handleMouseMove);}return()=>{document.removeEventListener('mouseup',handleMouseUp);document.removeEventListener('mousemove',handleMouseMove);};},[isDragging,handleMouseMove,handleMouseUp]);const handleEmergencyStop=()=>{var _wsRef$current3;(_wsRef$current3=wsRef.current)===null||_wsRef$current3===void 0?void 0:_wsRef$current3.sendUpdate({throttle_position:0,brake_pressure:100,engine_status:'off'});};const handleSignalChange=newSignal=>{var _wsRef$current4,_document$getElementB,_document$getElementB2,_document$getElementB3,_document$getElementB4;console.log(\"Changing signal to: \".concat(newSignal));// Send update to backend - the WebSocketService will update Redux\n(_wsRef$current4=wsRef.current)===null||_wsRef$current4===void 0?void 0:_wsRef$current4.sendUpdate({signal:newSignal});// Force update the local state for immediate UI feedback\n(_document$getElementB=document.getElementById('red-signal-light'))===null||_document$getElementB===void 0?void 0:_document$getElementB.classList.remove('active');(_document$getElementB2=document.getElementById('yellow-signal-light'))===null||_document$getElementB2===void 0?void 0:_document$getElementB2.classList.remove('active');(_document$getElementB3=document.getElementById('green-signal-light'))===null||_document$getElementB3===void 0?void 0:_document$getElementB3.classList.remove('active');// Activate the selected signal light\n(_document$getElementB4=document.getElementById(\"\".concat(newSignal,\"-signal-light\")))===null||_document$getElementB4===void 0?void 0:_document$getElementB4.classList.add('active');// Update the signal value text\nconst signalValueElement=document.querySelector('.signal-value');if(signalValueElement){signalValueElement.textContent=newSignal.toUpperCase();}};const handleDoorToggle=()=>{setDoorLocked(!doorLocked);};const handleLightsToggle=()=>{setHeadlightsOn(!headlightsOn);};const handleHornActivate=()=>{setHornActive(true);setTimeout(()=>setHornActive(false),1000);};const handleDirectionChange=direction=>{setReverserPosition(direction);};return/*#__PURE__*/_jsxs(\"div\",{className:\"locomotive-dashboard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"speedometer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"speed-value\",children:speed.toFixed(1)}),/*#__PURE__*/_jsx(\"div\",{className:\"speed-unit\",children:\"km/h\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"start-stop-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"start-stop-button \".concat(engineStatus!=='off'?'active':''),onClick:handleEngineToggle,disabled:engineStarting,children:engineStatus==='off'?'START ENGINE':engineStarting?'STARTING...':'STOP ENGINE'})}),/*#__PURE__*/_jsxs(\"div\",{className:\"left-panel-meters\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"meter-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"meter-label\",children:\"POWER OUTPUT\"}),/*#__PURE__*/_jsx(\"div\",{className:\"meter-visual\",children:/*#__PURE__*/_jsx(\"div\",{className:\"meter-fill\",style:{width:\"\".concat(throttlePosition,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"meter-value\",children:[throttlePosition,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"meter-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"meter-label\",children:\"TRACTION\"}),/*#__PURE__*/_jsx(\"div\",{className:\"meter-visual\",children:/*#__PURE__*/_jsx(\"div\",{className:\"meter-fill traction-fill\",style:{width:\"\".concat(Math.min(100,speed*2),\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"meter-value\",children:[Math.min(100,Math.round(speed*2)),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"meter-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"meter-label\",children:\"BRAKE PRESSURE\"}),/*#__PURE__*/_jsx(\"div\",{className:\"meter-visual\",children:/*#__PURE__*/_jsx(\"div\",{className:\"meter-fill brake-fill\",style:{width:\"\".concat(brakePressure,\"%\")}})}),/*#__PURE__*/_jsxs(\"div\",{className:\"meter-value\",children:[brakePressure,\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"module-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"module-title\",children:\"Train Protection Module\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"module-content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"circular-button emergency-color \".concat(parkingBrakeOn?'active':''),onClick:()=>setParkingBrakeOn(!parkingBrakeOn),children:/*#__PURE__*/_jsx(\"div\",{className:\"button-icon\",children:\"\\u26A0\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"circular-button neutral-color\",children:/*#__PURE__*/_jsx(\"div\",{className:\"button-icon\",children:\"\\u23F1\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"circular-button warning-color\",children:/*#__PURE__*/_jsx(\"div\",{className:\"button-icon\",children:\"\\u26A1\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"emergency-button-large\",children:/*#__PURE__*/_jsx(\"button\",{className:\"emergency-stop-large\",onClick:handleEmergencyStop})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"center-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"gauge-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"gauge acceleration-gauge\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"gauge-title\",children:\"ACCELERATION\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"gauge-display\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"gauge-needle\",style:{transform:\"rotate(\".concat(Math.min(Math.max((speed-prevSpeed)*10,-90),90),\"deg)\")}}),/*#__PURE__*/_jsxs(\"div\",{className:\"gauge-value\",children:[(speed-prevSpeed).toFixed(1),\" m/s\\xB2\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gauge speed-gauge\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"gauge-title\",children:\"LOCOMOTIVE SPEED\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"gauge-display\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"gauge-needle\",style:{transform:\"rotate(\".concat(speed/200*180-90,\"deg)\")}}),/*#__PURE__*/_jsxs(\"div\",{className:\"gauge-value\",children:[speed.toFixed(1),\" km/h\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gauge efficiency-gauge\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"gauge-title\",children:\"POWER EFFICIENCY\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"gauge-display\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"gauge-needle\",style:{transform:\"rotate(\".concat(Math.min(90,Math.max(-90,(throttlePosition-50)*1.8)),\"deg)\")}}),/*#__PURE__*/_jsxs(\"div\",{className:\"gauge-value\",children:[throttlePosition,\"%\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"gauge signal-box\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"gauge-title\",children:\"SIGNAL STATUS\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"gauge-display signal-display\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"signal-lights\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"signal-light red \".concat(signal==='red'?'active':''),id:\"red-signal-light\"}),/*#__PURE__*/_jsx(\"div\",{className:\"signal-light yellow \".concat(signal==='yellow'?'active':''),id:\"yellow-signal-light\"}),/*#__PURE__*/_jsx(\"div\",{className:\"signal-light green \".concat(signal==='green'?'active':''),id:\"green-signal-light\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"gauge-value signal-value\",children:signal?signal.toUpperCase():'UNKNOWN'})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"control-buttons-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"control-button red-button\",onClick:()=>{handleSignalChange('red');},children:\"RED SIGNAL\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-button yellow-button\",onClick:()=>{handleSignalChange('yellow');},children:\"YELLOW SIGNAL\"}),/*#__PURE__*/_jsx(\"button\",{className:\"control-button green-button\",onClick:()=>{handleSignalChange('green');},children:\"GREEN SIGNAL\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"module-container wide-module\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"module-title\",children:\"Speed Module\"}),/*#__PURE__*/_jsx(\"div\",{className:\"module-content speed-module\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"speed-slider-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"speed-slider\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"slider-track\",children:/*#__PURE__*/_jsx(\"div\",{className:\"slider-handle\",style:{bottom:\"\".concat(throttlePosition,\"%\")}})}),/*#__PURE__*/_jsx(\"div\",{className:\"slider-label\",children:\"V\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"speed-slider\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"slider-track\",children:/*#__PURE__*/_jsx(\"div\",{className:\"slider-handle\",style:{bottom:\"\".concat(throttlePosition*0.8,\"%\")}})}),/*#__PURE__*/_jsx(\"div\",{className:\"slider-label\",children:\"T\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"speed-slider\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"slider-track brake-track\",children:/*#__PURE__*/_jsx(\"div\",{className:\"slider-handle\",style:{bottom:\"\".concat(brakePressure,\"%\")}})}),/*#__PURE__*/_jsx(\"div\",{className:\"slider-label\",children:\"B\"})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modules-row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"module-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"module-title\",children:\"Door Module\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"module-content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"circular-button \".concat(doorLocked?'warning-color':'success-color'),onClick:handleDoorToggle,children:/*#__PURE__*/_jsx(\"div\",{className:\"button-icon\",children:doorLocked?/*#__PURE__*/_jsx(IconComponent,{icon:FaDoorClosed}):/*#__PURE__*/_jsx(IconComponent,{icon:FaDoorOpen})})}),/*#__PURE__*/_jsx(\"button\",{className:\"circular-button danger-color\",children:/*#__PURE__*/_jsx(\"div\",{className:\"button-icon\",children:\"\\u26A0\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"circular-button neutral-color\",children:/*#__PURE__*/_jsx(\"div\",{className:\"button-icon\",children:\"\\u2192\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"module-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"module-title\",children:\"Controller Module\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"module-content controller-module\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"controller-row\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"circular-button dark-button\"}),/*#__PURE__*/_jsx(\"button\",{className:\"circular-button light-button\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"controller-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"controller-labels\",children:/*#__PURE__*/_jsx(\"div\",{className:\"controller-label\",children:\"0\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"circular-button light-button\",onClick:handleLightsToggle,children:/*#__PURE__*/_jsx(\"div\",{className:\"button-icon\",children:/*#__PURE__*/_jsx(IconComponent,{icon:FaLightbulb})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"controller-row\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"circular-button light-button\",onClick:handleHornActivate,children:/*#__PURE__*/_jsx(\"div\",{className:\"button-icon\",children:/*#__PURE__*/_jsx(IconComponent,{icon:FaBell})})}),/*#__PURE__*/_jsx(\"button\",{className:\"circular-button light-button\"})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-panel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"module-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"module-title\",children:\"Direction Module\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"module-content direction-module\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"circular-button large-button \".concat(reverserPosition==='forward'?'active':''),onClick:()=>handleDirectionChange('forward'),children:/*#__PURE__*/_jsx(\"div\",{className:\"button-icon\",children:/*#__PURE__*/_jsx(IconComponent,{icon:FaArrowUp})})}),/*#__PURE__*/_jsx(\"button\",{className:\"circular-button large-button \".concat(reverserPosition==='neutral'?'active':''),onClick:()=>handleDirectionChange('neutral'),children:/*#__PURE__*/_jsx(\"div\",{className:\"button-icon\",children:/*#__PURE__*/_jsx(IconComponent,{icon:FaExchangeAlt})})}),/*#__PURE__*/_jsx(\"button\",{className:\"circular-button large-button \".concat(reverserPosition==='reverse'?'active':''),onClick:()=>handleDirectionChange('reverse'),children:/*#__PURE__*/_jsx(\"div\",{className:\"button-icon\",children:/*#__PURE__*/_jsx(IconComponent,{icon:FaArrowDown})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"throttle-control\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"throttle-label\",children:\"THROTTLE\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"throttle-track\",ref:throttleRef,onMouseDown:handleMouseDown,children:[/*#__PURE__*/_jsx(\"div\",{className:\"throttle-fill\",style:{height:\"\".concat(throttlePosition,\"%\")}}),/*#__PURE__*/_jsx(\"div\",{className:\"throttle-handle\",style:{bottom:\"calc(\".concat(throttlePosition,\"% - 15px)\")}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"throttle-value\",children:[throttlePosition,\"%\"]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"emergency-button\",onClick:handleEmergencyStop,children:\"EMERGENCY STOP\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"module-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"module-title\",children:\"Startup Module\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"module-content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"circular-button large-button \".concat(engineStatus!=='off'?'active':''),onClick:handleEngineToggle,children:/*#__PURE__*/_jsx(\"div\",{className:\"button-icon\",children:\"\\u26A1\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"startup-controls\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"startup-indicator\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"indicator-light \".concat(engineStatus!=='off'?'active':'')}),/*#__PURE__*/_jsx(\"div\",{className:\"indicator-label\",children:\"1\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"startup-indicator\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"indicator-light \".concat(engineStatus!=='off'&&throttlePosition>0?'active':'')}),/*#__PURE__*/_jsx(\"div\",{className:\"indicator-label\",children:\"0\"})]})]})]})]})]})]});};export default TrainCabin;","map":{"version":3,"names":["React","useEffect","useRef","useState","useCallback","useDispatch","useSelector","WebSocketService","FaArrowUp","FaArrowDown","FaExchangeAlt","FaLightbulb","FaBell","FaDoorClosed","FaDoorOpen","jsx","_jsx","jsxs","_jsxs","IconComponent","_ref","icon","Icon","TrainCabin","dispatch","engineStatus","throttlePosition","speed","brakePressure","fuelLevel","engineTemp","oilPressure","cabinTemp","fanSpeed","signal","state","simulation","wsRef","isDragging","setIsDragging","throttleRef","trackOffset","setTrackOffset","prevSpeed","setPrevSpeed","lightsOn","setLightsOn","wipersOn","setWipersOn","hornActive","setHornActive","engineStarting","setEngineStarting","headlightsOn","setHeadlightsOn","doorLocked","setDoorLocked","radioOn","setRadioOn","parkingBrakeOn","setParkingBrakeOn","autoModeOn","setAutoModeOn","pantographUp","setPantographUp","compressorOn","setCompressorOn","sandingOn","setSandingOn","couplerEngaged","setCouplerEngaged","auxiliaryPowerOn","setAuxiliaryPowerOn","brakeLightOn","setBrakeLightOn","cabinLightsOn","setCabinLightsOn","ventilationOn","setVentilationOn","defrostOn","setDefrostOn","batteryIsolated","setBatteryIsolated","reverserPosition","setReverserPosition","console","log","current","connect","disconnect","animationFrame","animateTrack","prev","requestAnimationFrame","cancelAnimationFrame","timer","setTimeout","clearTimeout","handleEngineToggle","sendUpdate","engine_status","_wsRef$current","throttle_position","brake_pressure","handleThrottleMove","clientY","_wsRef$current2","rect","getBoundingClientRect","height","relativeY","Math","max","min","top","percentage","round","handleMouseDown","e","handleMouseMove","handleMouseUp","document","addEventListener","removeEventListener","handleEmergencyStop","_wsRef$current3","handleSignalChange","newSignal","_wsRef$current4","_document$getElementB","_document$getElementB2","_document$getElementB3","_document$getElementB4","concat","getElementById","classList","remove","add","signalValueElement","querySelector","textContent","toUpperCase","handleDoorToggle","handleLightsToggle","handleHornActivate","handleDirectionChange","direction","className","children","toFixed","onClick","disabled","style","width","transform","id","bottom","ref","onMouseDown"],"sources":["/Users/apple/Documents/Prakhar/Projects/locomotive-dashboard/frontend/src/components/TrainCabin.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState, useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { RootState } from '../store';\nimport { WebSocketService } from '../services/WebSocketService';\nimport { EnhancedSoundService } from '../services/EnhancedSoundService';\nimport { updateSimulation } from '../store/simulationSlice';\nimport { IconType } from 'react-icons';\nimport { FaArrowUp, FaArrowDown, FaExchangeAlt, FaLightbulb, FaBell, FaDoorClosed, FaDoorOpen } from 'react-icons/fa';\nimport '../styles/TrainCabin.css';\n\n// Helper component to render icons\nconst IconComponent: React.FC<{ icon: IconType }> = ({ icon: Icon }) => {\n    return <Icon />;\n};\n\nconst TrainCabin: React.FC = () => {\n    const dispatch = useDispatch();\n    const { engineStatus, throttlePosition, speed, brakePressure, fuelLevel, engineTemp, oilPressure, cabinTemp, fanSpeed, signal } = \n        useSelector((state: RootState) => state.simulation);\n    const wsRef = useRef<WebSocketService>();\n    const [isDragging, setIsDragging] = useState(false);\n    const throttleRef = useRef<HTMLDivElement>(null);\n    const [trackOffset, setTrackOffset] = useState(0);\n    const [prevSpeed, setPrevSpeed] = useState(0);\n    const [lightsOn, setLightsOn] = useState(false);\n    const [wipersOn, setWipersOn] = useState(false);\n    const [hornActive, setHornActive] = useState(false);\n    const [engineStarting, setEngineStarting] = useState(false);\n    const [headlightsOn, setHeadlightsOn] = useState(false);\n    const [doorLocked, setDoorLocked] = useState(true);\n    const [radioOn, setRadioOn] = useState(false);\n    const [parkingBrakeOn, setParkingBrakeOn] = useState(true);\n    const [autoModeOn, setAutoModeOn] = useState(false);\n    const [pantographUp, setPantographUp] = useState(false);\n    const [compressorOn, setCompressorOn] = useState(false);\n    const [sandingOn, setSandingOn] = useState(false);\n    const [couplerEngaged, setCouplerEngaged] = useState(false);\n    const [auxiliaryPowerOn, setAuxiliaryPowerOn] = useState(false);\n    const [brakeLightOn, setBrakeLightOn] = useState(false);\n    const [cabinLightsOn, setCabinLightsOn] = useState(true);\n    const [ventilationOn, setVentilationOn] = useState(false);\n    const [defrostOn, setDefrostOn] = useState(false);\n    const [batteryIsolated, setBatteryIsolated] = useState(false);\n    const [reverserPosition, setReverserPosition] = useState('neutral');\n\n    useEffect(() => {\n        console.log('Initializing WebSocket service...');\n        wsRef.current = new WebSocketService(dispatch);\n        wsRef.current.connect();\n\n        return () => {\n            if (wsRef.current) {\n                wsRef.current.disconnect();\n            }\n        };\n    }, [dispatch]);\n\n    useEffect(() => {\n        let animationFrame: number;\n        const animateTrack = () => {\n            setTrackOffset(prev => (prev + speed * 0.1) % 100);\n            animationFrame = requestAnimationFrame(animateTrack);\n        };\n        animationFrame = requestAnimationFrame(animateTrack);\n        return () => cancelAnimationFrame(animationFrame);\n    }, [speed]);\n\n    // Update prevSpeed for acceleration calculation\n    useEffect(() => {\n        const timer = setTimeout(() => {\n            setPrevSpeed(speed);\n        }, 1000);\n        return () => clearTimeout(timer);\n    }, [speed]);\n\n    const handleEngineToggle = () => {\n        if (!wsRef.current) return;\n        \n        if (engineStatus === 'off') {\n            // Starting sequence\n            setEngineStarting(true);\n            wsRef.current.sendUpdate({ engine_status: 'starting' });\n            \n            // Simulate engine startup sequence\n            setTimeout(() => {\n                wsRef.current?.sendUpdate({\n                    engine_status: 'on',\n                    throttle_position: 0,\n                    brake_pressure: 100\n                });\n                setEngineStarting(false);\n            }, 3000);\n        } else {\n            // Immediate shutdown\n            wsRef.current.sendUpdate({\n                engine_status: 'off',\n                throttle_position: 0,\n                brake_pressure: 100\n            });\n        }\n    };\n\n    const handleThrottleMove = useCallback((clientY: number) => {\n        if (!throttleRef.current || engineStatus === 'off') return;\n        \n        const rect = throttleRef.current.getBoundingClientRect();\n        const height = rect.height - 50; // Adjust for handle height\n        const relativeY = Math.max(0, Math.min(height, clientY - rect.top));\n        const percentage = Math.round(((height - relativeY) / height) * 100);\n        \n        wsRef.current?.sendUpdate({ throttle_position: percentage });\n    }, [engineStatus]);\n\n    const handleMouseDown = (e: React.MouseEvent) => {\n        if (engineStatus === 'off') return;\n        setIsDragging(true);\n        handleThrottleMove(e.clientY);\n    };\n\n    const handleMouseMove = useCallback((e: React.MouseEvent) => {\n        if (!isDragging) return;\n        handleThrottleMove(e.clientY);\n    }, [isDragging, handleThrottleMove]);\n\n    const handleMouseUp = () => {\n        setIsDragging(false);\n    };\n\n    useEffect(() => {\n        if (isDragging) {\n            document.addEventListener('mouseup', handleMouseUp);\n            document.addEventListener('mousemove', handleMouseMove as any);\n        }\n        return () => {\n            document.removeEventListener('mouseup', handleMouseUp);\n            document.removeEventListener('mousemove', handleMouseMove as any);\n        };\n    }, [isDragging, handleMouseMove, handleMouseUp]);\n\n    const handleEmergencyStop = () => {\n        wsRef.current?.sendUpdate({\n            throttle_position: 0,\n            brake_pressure: 100,\n            engine_status: 'off'\n        });\n    };\n\n    const handleSignalChange = (newSignal: string) => {\n        console.log(`Changing signal to: ${newSignal}`);\n        \n        // Send update to backend - the WebSocketService will update Redux\n        wsRef.current?.sendUpdate({ signal: newSignal });\n        \n        // Force update the local state for immediate UI feedback\n        document.getElementById('red-signal-light')?.classList.remove('active');\n        document.getElementById('yellow-signal-light')?.classList.remove('active');\n        document.getElementById('green-signal-light')?.classList.remove('active');\n        \n        // Activate the selected signal light\n        document.getElementById(`${newSignal}-signal-light`)?.classList.add('active');\n        \n        // Update the signal value text\n        const signalValueElement = document.querySelector('.signal-value');\n        if (signalValueElement) {\n            signalValueElement.textContent = newSignal.toUpperCase();\n        }\n    };\n\n    const handleDoorToggle = () => {\n        setDoorLocked(!doorLocked);\n    };\n\n    const handleLightsToggle = () => {\n        setHeadlightsOn(!headlightsOn);\n    };\n\n    const handleHornActivate = () => {\n        setHornActive(true);\n        setTimeout(() => setHornActive(false), 1000);\n    };\n\n    const handleDirectionChange = (direction: string) => {\n        setReverserPosition(direction);\n    };\n\n    return (\n        <div className=\"locomotive-dashboard\">\n            {/* Left Panel - Speedometer and Start/Stop */}\n            <div className=\"left-panel\">\n                {/* Speedometer */}\n                <div className=\"speedometer\">\n                    <div className=\"speed-value\">{speed.toFixed(1)}</div>\n                    <div className=\"speed-unit\">km/h</div>\n                </div>\n                \n                {/* Start/Stop Button */}\n                <div className=\"start-stop-container\">\n                    <button \n                        className={`start-stop-button ${engineStatus !== 'off' ? 'active' : ''}`}\n                        onClick={handleEngineToggle}\n                        disabled={engineStarting}\n                    >\n                        {engineStatus === 'off' ? 'START ENGINE' : \n                         engineStarting ? 'STARTING...' : 'STOP ENGINE'}\n                    </button>\n                </div>\n\n                {/* Additional Meters */}\n                <div className=\"left-panel-meters\">\n                    {/* Power Output Meter */}\n                    <div className=\"meter-container\">\n                        <div className=\"meter-label\">POWER OUTPUT</div>\n                        <div className=\"meter-visual\">\n                            <div \n                                className=\"meter-fill\" \n                                style={{ width: `${throttlePosition}%` }}\n                            ></div>\n                        </div>\n                        <div className=\"meter-value\">{throttlePosition}%</div>\n                    </div>\n\n                    {/* Traction Meter */}\n                    <div className=\"meter-container\">\n                        <div className=\"meter-label\">TRACTION</div>\n                        <div className=\"meter-visual\">\n                            <div \n                                className=\"meter-fill traction-fill\" \n                                style={{ width: `${Math.min(100, speed * 2)}%` }}\n                            ></div>\n                        </div>\n                        <div className=\"meter-value\">{Math.min(100, Math.round(speed * 2))}%</div>\n                    </div>\n\n                    {/* Brake Pressure Meter */}\n                    <div className=\"meter-container\">\n                        <div className=\"meter-label\">BRAKE PRESSURE</div>\n                        <div className=\"meter-visual\">\n                            <div \n                                className=\"meter-fill brake-fill\" \n                                style={{ width: `${brakePressure}%` }}\n                            ></div>\n                        </div>\n                        <div className=\"meter-value\">{brakePressure}%</div>\n                    </div>\n                </div>\n\n                {/* Train Protection Module */}\n                <div className=\"module-container\">\n                    <div className=\"module-title\">Train Protection Module</div>\n                    <div className=\"module-content\">\n                        <button \n                            className={`circular-button emergency-color ${parkingBrakeOn ? 'active' : ''}`}\n                            onClick={() => setParkingBrakeOn(!parkingBrakeOn)}\n                        >\n                            <div className=\"button-icon\">⚠</div>\n                        </button>\n                        <button className=\"circular-button neutral-color\">\n                            <div className=\"button-icon\">⏱</div>\n                        </button>\n                        <button className=\"circular-button warning-color\">\n                            <div className=\"button-icon\">⚡</div>\n                        </button>\n                    </div>\n                    <div className=\"emergency-button-large\">\n                        <button \n                            className=\"emergency-stop-large\"\n                            onClick={handleEmergencyStop}\n                        ></button>\n                    </div>\n                </div>\n            </div>\n            \n            {/* Center Panel - Main Gauges */}\n            <div className=\"center-panel\">\n                <div className=\"gauge-container\">\n                    {/* Acceleration Gauge */}\n                    <div className=\"gauge acceleration-gauge\">\n                        <div className=\"gauge-title\">ACCELERATION</div>\n                        <div className=\"gauge-display\">\n                            <div className=\"gauge-needle\" style={{ \n                                transform: `rotate(${Math.min(Math.max((speed - prevSpeed) * 10, -90), 90)}deg)` \n                            }}></div>\n                            <div className=\"gauge-value\">{(speed - prevSpeed).toFixed(1)} m/s²</div>\n                        </div>\n                    </div>\n                    \n                    {/* Locomotive Speed Gauge */}\n                    <div className=\"gauge speed-gauge\">\n                        <div className=\"gauge-title\">LOCOMOTIVE SPEED</div>\n                        <div className=\"gauge-display\">\n                            <div className=\"gauge-needle\" style={{ \n                                transform: `rotate(${(speed / 200) * 180 - 90}deg)` \n                            }}></div>\n                            <div className=\"gauge-value\">{speed.toFixed(1)} km/h</div>\n                        </div>\n                    </div>\n                    \n                    {/* Power Efficiency Gauge */}\n                    <div className=\"gauge efficiency-gauge\">\n                        <div className=\"gauge-title\">POWER EFFICIENCY</div>\n                        <div className=\"gauge-display\">\n                            <div className=\"gauge-needle\" style={{ \n                                transform: `rotate(${Math.min(90, Math.max(-90, (throttlePosition - 50) * 1.8))}deg)` \n                            }}></div>\n                            <div className=\"gauge-value\">{throttlePosition}%</div>\n                        </div>\n                    </div>\n                    \n                    {/* Signal Box */}\n                    <div className=\"gauge signal-box\">\n                        <div className=\"gauge-title\">SIGNAL STATUS</div>\n                        <div className=\"gauge-display signal-display\">\n                            <div className=\"signal-lights\">\n                                <div \n                                    className={`signal-light red ${signal === 'red' ? 'active' : ''}`}\n                                    id=\"red-signal-light\"\n                                ></div>\n                                <div \n                                    className={`signal-light yellow ${signal === 'yellow' ? 'active' : ''}`}\n                                    id=\"yellow-signal-light\"\n                                ></div>\n                                <div \n                                    className={`signal-light green ${signal === 'green' ? 'active' : ''}`}\n                                    id=\"green-signal-light\"\n                                ></div>\n                            </div>\n                            <div className=\"gauge-value signal-value\">{signal ? signal.toUpperCase() : 'UNKNOWN'}</div>\n                        </div>\n                    </div>\n                </div>\n                \n                {/* Signal Control Buttons */}\n                <div className=\"control-buttons-container\">\n                    <button \n                        className=\"control-button red-button\"\n                        onClick={() => {\n                            handleSignalChange('red');\n                        }}\n                    >\n                        RED SIGNAL\n                    </button>\n                    <button \n                        className=\"control-button yellow-button\"\n                        onClick={() => {\n                            handleSignalChange('yellow');\n                        }}\n                    >\n                        YELLOW SIGNAL\n                    </button>\n                    <button \n                        className=\"control-button green-button\"\n                        onClick={() => {\n                            handleSignalChange('green');\n                        }}\n                    >\n                        GREEN SIGNAL\n                    </button>\n                </div>\n\n                {/* Speed Module */}\n                <div className=\"module-container wide-module\">\n                    <div className=\"module-title\">Speed Module</div>\n                    <div className=\"module-content speed-module\">\n                        <div className=\"speed-slider-container\">\n                            <div className=\"speed-slider\">\n                                <div className=\"slider-track\">\n                                    <div className=\"slider-handle\" style={{ bottom: `${throttlePosition}%` }}></div>\n                                </div>\n                                <div className=\"slider-label\">V</div>\n                            </div>\n                            <div className=\"speed-slider\">\n                                <div className=\"slider-track\">\n                                    <div className=\"slider-handle\" style={{ bottom: `${throttlePosition * 0.8}%` }}></div>\n                                </div>\n                                <div className=\"slider-label\">T</div>\n                            </div>\n                            <div className=\"speed-slider\">\n                                <div className=\"slider-track brake-track\">\n                                    <div className=\"slider-handle\" style={{ bottom: `${brakePressure}%` }}></div>\n                                </div>\n                                <div className=\"slider-label\">B</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                {/* Door and Controller Modules */}\n                <div className=\"modules-row\">\n                    {/* Door Module */}\n                    <div className=\"module-container\">\n                        <div className=\"module-title\">Door Module</div>\n                        <div className=\"module-content\">\n                            <button \n                                className={`circular-button ${doorLocked ? 'warning-color' : 'success-color'}`}\n                                onClick={handleDoorToggle}\n                            >\n                                <div className=\"button-icon\">\n                                    {doorLocked ? <IconComponent icon={FaDoorClosed} /> : <IconComponent icon={FaDoorOpen} />}\n                                </div>\n                            </button>\n                            <button className=\"circular-button danger-color\">\n                                <div className=\"button-icon\">⚠</div>\n                            </button>\n                            <button className=\"circular-button neutral-color\">\n                                <div className=\"button-icon\">→</div>\n                            </button>\n                        </div>\n                    </div>\n\n                    {/* Controller Module */}\n                    <div className=\"module-container\">\n                        <div className=\"module-title\">Controller Module</div>\n                        <div className=\"module-content controller-module\">\n                            <div className=\"controller-row\">\n                                <button className=\"circular-button dark-button\"></button>\n                                <button className=\"circular-button light-button\"></button>\n                            </div>\n                            <div className=\"controller-row\">\n                                <div className=\"controller-labels\">\n                                    <div className=\"controller-label\">0</div>\n                                </div>\n                                <button \n                                    className=\"circular-button light-button\"\n                                    onClick={handleLightsToggle}\n                                >\n                                    <div className=\"button-icon\"><IconComponent icon={FaLightbulb} /></div>\n                                </button>\n                            </div>\n                            <div className=\"controller-row\">\n                                <button \n                                    className=\"circular-button light-button\"\n                                    onClick={handleHornActivate}\n                                >\n                                    <div className=\"button-icon\"><IconComponent icon={FaBell} /></div>\n                                </button>\n                                <button className=\"circular-button light-button\"></button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            \n            {/* Right Panel - Controls */}\n            <div className=\"right-panel\">\n                {/* Direction Module */}\n                <div className=\"module-container\">\n                    <div className=\"module-title\">Direction Module</div>\n                    <div className=\"module-content direction-module\">\n                        <button \n                            className={`circular-button large-button ${reverserPosition === 'forward' ? 'active' : ''}`}\n                            onClick={() => handleDirectionChange('forward')}\n                        >\n                            <div className=\"button-icon\"><IconComponent icon={FaArrowUp} /></div>\n                        </button>\n                        <button \n                            className={`circular-button large-button ${reverserPosition === 'neutral' ? 'active' : ''}`}\n                            onClick={() => handleDirectionChange('neutral')}\n                        >\n                            <div className=\"button-icon\"><IconComponent icon={FaExchangeAlt} /></div>\n                        </button>\n                        <button \n                            className={`circular-button large-button ${reverserPosition === 'reverse' ? 'active' : ''}`}\n                            onClick={() => handleDirectionChange('reverse')}\n                        >\n                            <div className=\"button-icon\"><IconComponent icon={FaArrowDown} /></div>\n                        </button>\n                    </div>\n                </div>\n\n                {/* Throttle Control */}\n                <div className=\"throttle-control\">\n                    <div className=\"throttle-label\">THROTTLE</div>\n                    <div \n                        className=\"throttle-track\"\n                        ref={throttleRef}\n                        onMouseDown={handleMouseDown}\n                    >\n                        <div className=\"throttle-fill\" style={{ height: `${throttlePosition}%` }}></div>\n                        <div \n                            className=\"throttle-handle\" \n                            style={{ bottom: `calc(${throttlePosition}% - 15px)` }}\n                        ></div>\n                    </div>\n                    <div className=\"throttle-value\">{throttlePosition}%</div>\n                </div>\n                \n                {/* Emergency Stop Button */}\n                <button \n                    className=\"emergency-button\"\n                    onClick={handleEmergencyStop}\n                >\n                    EMERGENCY STOP\n                </button>\n\n                {/* Startup Module */}\n                <div className=\"module-container\">\n                    <div className=\"module-title\">Startup Module</div>\n                    <div className=\"module-content\">\n                        <button \n                            className={`circular-button large-button ${engineStatus !== 'off' ? 'active' : ''}`}\n                            onClick={handleEngineToggle}\n                        >\n                            <div className=\"button-icon\">⚡</div>\n                        </button>\n                        <div className=\"startup-controls\">\n                            <div className=\"startup-indicator\">\n                                <div className={`indicator-light ${engineStatus !== 'off' ? 'active' : ''}`}></div>\n                                <div className=\"indicator-label\">1</div>\n                            </div>\n                            <div className=\"startup-indicator\">\n                                <div className={`indicator-light ${engineStatus !== 'off' && throttlePosition > 0 ? 'active' : ''}`}></div>\n                                <div className=\"indicator-label\">0</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default TrainCabin;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}