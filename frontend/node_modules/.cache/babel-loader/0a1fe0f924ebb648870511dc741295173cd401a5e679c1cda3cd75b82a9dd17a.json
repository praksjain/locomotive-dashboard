{"ast":null,"code":"class SoundService {\n  constructor() {\n    this.engineSound = void 0;\n    this.throttleSound = void 0;\n    this.brakeSound = void 0;\n    this.initialized = false;\n    this.engineSound = new Audio();\n    this.throttleSound = new Audio();\n    this.brakeSound = new Audio();\n\n    // Set default sources\n    this.engineSound.src = '/assets/sounds/engine-idle.mp3';\n    this.throttleSound.src = '/assets/sounds/throttle.mp3';\n    this.brakeSound.src = '/assets/sounds/brake.mp3';\n    this.engineSound.loop = true;\n\n    // Preload sounds\n    this.preloadSounds();\n  }\n  async preloadSounds() {\n    try {\n      await Promise.all([this.engineSound.load(), this.throttleSound.load(), this.brakeSound.load()]);\n      this.initialized = true;\n    } catch (error) {\n      console.warn('Sound loading failed:', error);\n    }\n  }\n  async startEngine() {\n    try {\n      if (!this.initialized) {\n        console.warn('Sounds not initialized yet');\n        return;\n      }\n      await this.engineSound.play();\n      this.engineSound.volume = 0.3;\n    } catch (error) {\n      console.warn('Engine sound failed to play:', error);\n    }\n  }\n  stopEngine() {\n    try {\n      this.engineSound.pause();\n      this.engineSound.currentTime = 0;\n    } catch (error) {\n      console.warn('Engine sound failed to stop:', error);\n    }\n  }\n  async updateThrottle(position) {\n    try {\n      if (!this.initialized) return;\n      this.engineSound.volume = 0.3 + position / 100 * 0.7;\n      await this.throttleSound.play();\n    } catch (error) {\n      console.warn('Throttle sound failed to play:', error);\n    }\n  }\n  async applyBrake() {\n    try {\n      if (!this.initialized) return;\n      await this.brakeSound.play();\n    } catch (error) {\n      console.warn('Brake sound failed to play:', error);\n    }\n  }\n}\nexport const soundService = new SoundService();","map":{"version":3,"names":["SoundService","constructor","engineSound","throttleSound","brakeSound","initialized","Audio","src","loop","preloadSounds","Promise","all","load","error","console","warn","startEngine","play","volume","stopEngine","pause","currentTime","updateThrottle","position","applyBrake","soundService"],"sources":["/Users/apple/Documents/Prakhar/Projects/locomotive-simulator/frontend/src/services/SoundService.ts"],"sourcesContent":["class SoundService {\n    private engineSound: HTMLAudioElement;\n    private throttleSound: HTMLAudioElement;\n    private brakeSound: HTMLAudioElement;\n    private initialized: boolean = false;\n    \n    constructor() {\n        this.engineSound = new Audio();\n        this.throttleSound = new Audio();\n        this.brakeSound = new Audio();\n        \n        // Set default sources\n        this.engineSound.src = '/assets/sounds/engine-idle.mp3';\n        this.throttleSound.src = '/assets/sounds/throttle.mp3';\n        this.brakeSound.src = '/assets/sounds/brake.mp3';\n        \n        this.engineSound.loop = true;\n        \n        // Preload sounds\n        this.preloadSounds();\n    }\n\n    private async preloadSounds() {\n        try {\n            await Promise.all([\n                this.engineSound.load(),\n                this.throttleSound.load(),\n                this.brakeSound.load()\n            ]);\n            this.initialized = true;\n        } catch (error) {\n            console.warn('Sound loading failed:', error);\n        }\n    }\n\n    async startEngine() {\n        try {\n            if (!this.initialized) {\n                console.warn('Sounds not initialized yet');\n                return;\n            }\n            await this.engineSound.play();\n            this.engineSound.volume = 0.3;\n        } catch (error) {\n            console.warn('Engine sound failed to play:', error);\n        }\n    }\n\n    stopEngine() {\n        try {\n            this.engineSound.pause();\n            this.engineSound.currentTime = 0;\n        } catch (error) {\n            console.warn('Engine sound failed to stop:', error);\n        }\n    }\n\n    async updateThrottle(position: number) {\n        try {\n            if (!this.initialized) return;\n            this.engineSound.volume = 0.3 + (position / 100) * 0.7;\n            await this.throttleSound.play();\n        } catch (error) {\n            console.warn('Throttle sound failed to play:', error);\n        }\n    }\n\n    async applyBrake() {\n        try {\n            if (!this.initialized) return;\n            await this.brakeSound.play();\n        } catch (error) {\n            console.warn('Brake sound failed to play:', error);\n        }\n    }\n}\n\nexport const soundService = new SoundService(); "],"mappings":"AAAA,MAAMA,YAAY,CAAC;EAMfC,WAAWA,CAAA,EAAG;IAAA,KALNC,WAAW;IAAA,KACXC,aAAa;IAAA,KACbC,UAAU;IAAA,KACVC,WAAW,GAAY,KAAK;IAGhC,IAAI,CAACH,WAAW,GAAG,IAAII,KAAK,CAAC,CAAC;IAC9B,IAAI,CAACH,aAAa,GAAG,IAAIG,KAAK,CAAC,CAAC;IAChC,IAAI,CAACF,UAAU,GAAG,IAAIE,KAAK,CAAC,CAAC;;IAE7B;IACA,IAAI,CAACJ,WAAW,CAACK,GAAG,GAAG,gCAAgC;IACvD,IAAI,CAACJ,aAAa,CAACI,GAAG,GAAG,6BAA6B;IACtD,IAAI,CAACH,UAAU,CAACG,GAAG,GAAG,0BAA0B;IAEhD,IAAI,CAACL,WAAW,CAACM,IAAI,GAAG,IAAI;;IAE5B;IACA,IAAI,CAACC,aAAa,CAAC,CAAC;EACxB;EAEA,MAAcA,aAAaA,CAAA,EAAG;IAC1B,IAAI;MACA,MAAMC,OAAO,CAACC,GAAG,CAAC,CACd,IAAI,CAACT,WAAW,CAACU,IAAI,CAAC,CAAC,EACvB,IAAI,CAACT,aAAa,CAACS,IAAI,CAAC,CAAC,EACzB,IAAI,CAACR,UAAU,CAACQ,IAAI,CAAC,CAAC,CACzB,CAAC;MACF,IAAI,CAACP,WAAW,GAAG,IAAI;IAC3B,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZC,OAAO,CAACC,IAAI,CAAC,uBAAuB,EAAEF,KAAK,CAAC;IAChD;EACJ;EAEA,MAAMG,WAAWA,CAAA,EAAG;IAChB,IAAI;MACA,IAAI,CAAC,IAAI,CAACX,WAAW,EAAE;QACnBS,OAAO,CAACC,IAAI,CAAC,4BAA4B,CAAC;QAC1C;MACJ;MACA,MAAM,IAAI,CAACb,WAAW,CAACe,IAAI,CAAC,CAAC;MAC7B,IAAI,CAACf,WAAW,CAACgB,MAAM,GAAG,GAAG;IACjC,CAAC,CAAC,OAAOL,KAAK,EAAE;MACZC,OAAO,CAACC,IAAI,CAAC,8BAA8B,EAAEF,KAAK,CAAC;IACvD;EACJ;EAEAM,UAAUA,CAAA,EAAG;IACT,IAAI;MACA,IAAI,CAACjB,WAAW,CAACkB,KAAK,CAAC,CAAC;MACxB,IAAI,CAAClB,WAAW,CAACmB,WAAW,GAAG,CAAC;IACpC,CAAC,CAAC,OAAOR,KAAK,EAAE;MACZC,OAAO,CAACC,IAAI,CAAC,8BAA8B,EAAEF,KAAK,CAAC;IACvD;EACJ;EAEA,MAAMS,cAAcA,CAACC,QAAgB,EAAE;IACnC,IAAI;MACA,IAAI,CAAC,IAAI,CAAClB,WAAW,EAAE;MACvB,IAAI,CAACH,WAAW,CAACgB,MAAM,GAAG,GAAG,GAAIK,QAAQ,GAAG,GAAG,GAAI,GAAG;MACtD,MAAM,IAAI,CAACpB,aAAa,CAACc,IAAI,CAAC,CAAC;IACnC,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACZC,OAAO,CAACC,IAAI,CAAC,gCAAgC,EAAEF,KAAK,CAAC;IACzD;EACJ;EAEA,MAAMW,UAAUA,CAAA,EAAG;IACf,IAAI;MACA,IAAI,CAAC,IAAI,CAACnB,WAAW,EAAE;MACvB,MAAM,IAAI,CAACD,UAAU,CAACa,IAAI,CAAC,CAAC;IAChC,CAAC,CAAC,OAAOJ,KAAK,EAAE;MACZC,OAAO,CAACC,IAAI,CAAC,6BAA6B,EAAEF,KAAK,CAAC;IACtD;EACJ;AACJ;AAEA,OAAO,MAAMY,YAAY,GAAG,IAAIzB,YAAY,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}